---
description: WooCommerce POS Plugin (Free) context
globs:
alwaysApply: true
---

# WooCommerce POS Plugin (Free)

## What This Is

WordPress plugin that enables Point of Sale functionality for WooCommerce stores. This is the **free version** available on WordPress.org.

## System Context

See `wcpos-infra/ARCHITECTURE.md` for the full WCPOS ecosystem.

This plugin:
- Extends WooCommerce REST API for POS functionality
- Provides `/pos` endpoint in WordPress
- Handles authentication between WC store and WCPOS app

## Tech Stack

- **Language**: PHP
- **Framework**: WordPress Plugin API
- **Requires**: WooCommerce
- **Tested with**: WordPress 6.x, WooCommerce 8.x

## Structure

```
woocommerce-pos/
├── includes/           # PHP classes
├── templates/          # Template files
├── assets/             # CSS, JS, images
├── languages/          # i18n
├── woocommerce-pos.php # Main plugin file
└── readme.txt          # WordPress.org readme
```

## Development

```bash
composer install        # PHP deps
npm install             # JS deps (if any)
```

## Deployment

- **WordPress.org**: Auto-deployed via GitHub Actions
- **WP Engine (dev)**: Auto-deployed for testing

## Git Workflow

**All code changes must be done on feature branches.** Direct commits to `main` are not allowed.

```bash
# Create feature branch
git checkout -b feature/my-change

# Make changes, then commit
git add .
git commit -m "feat: description of change"

# Push and create PR
git push -u origin feature/my-change
```

**Why**: Commits to `main` trigger automatic deployments to WordPress.org and dev sites. Feature branches allow for code review and CI checks before merging.

## Related Projects

- `woocommerce-pos-pro` - Pro version with additional features
- `monorepo-v2` - The WCPOS app that connects to this plugin

## WordPress Hooks

Plugin hooks are documented at: https://wcpos.github.io/woocommerce-pos
