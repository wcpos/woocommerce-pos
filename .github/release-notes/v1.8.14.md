# WCPOS 1.8.14

## What's new

### Hardened DB migration locking
The upgrade process now uses the WordPress core upgrader lock (`WP_Upgrading`) with atomic acquisition and a shutdown fallback. This prevents concurrent migrations from running on high-traffic sites where multiple requests hit the upgrade path simultaneously.

### Fixed offline gateway ignoring POS checkout status
Orders placed with the Cash or Card gateway while offline were defaulting to "processing" regardless of what you configured. They now correctly use your POS checkout status setting.

### Fixed i18n locale fallback and caching
Translation lookups were retrying locales that had already returned a 404, adding unnecessary network requests on every page load. Missing locales are now cached so the lookup only happens once.

### Fixed settings page clipping
The left side of the settings panel was being cut off on sites where `#wpcontent` has extra padding from certain WordPress themes or admin customizations.

### Reduced extensions catalog cache TTL
The extension directory now refreshes every hour instead of daily, so newly published or updated extensions appear faster.

## References
- PRs: #540, #541, #543, #544, #545, #546
